<div class="course-container">
  <app-navbar></app-navbar>
  <div class="course-page-content container-fluid px-3 px-md-4 px-lg-5">

    @if(currentTopic) {
      <div class="course-details-card">
        <div class="course-header">
          <span class="title">{{ currentTopic.title }}</span>

          @if(topicDifficulty) {
            <span class="difficulty" [style.color]="courseService.getXpColor(topicDifficulty)">
               ({{ topicDifficulty }})
             </span>
          }
        </div>

        <div class="description">
          <h3>Introduction to Topic</h3>
          <p>{{ currentTopic.introduction }}</p>

          <h3>Code Example</h3>

          <pre><code>{{ currentTopic.codeExample }}</code></pre>

          <h3>Key Concepts</h3>
          <div class="key-concepts">
            <p style="white-space: pre-line">{{ currentTopic.keyConcepts }}</p>
          </div>

          @if(currentTopic.urlVideo) {
            <h3>Recommended Video</h3>
            <iframe
              width="100%"
              height="315"
              [src]="safeVideoUrl"
              title="YouTube video player"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              referrerpolicy="strict-origin-when-cross-origin"
              allowfullscreen>
            </iframe>
          }
        </div>
      </div>
    }

    @if(errorMessage){
      <div class="no-results">
        {{ errorMessage }}
      </div>
    }
  </div>
</div>
