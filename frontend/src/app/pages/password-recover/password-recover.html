<div class="auth-page-container">
  <form class="auth-form-container" (ngSubmit)="onSubmit()">
    <div class="auth-input-group">
      <div class="back-link-container">
        <a (click)="goBack()" class="back-link">âž”</a>
      </div>
      <img src="../../../assets/images/forgottenpasswordtransp.png" alt="Forgotten Password Logo" class="auth-logo">

      <div class="timer-container">
        @if (countdown > 0) {
          <label class="timer-label">A secret code was sent to your email, expiring in {{ countdown }}s</label>
        }
        @if (showResendButton) {
          <button (click)="resendCode()" type="button" class="resend-btn">Resend Code</button>
        }
      </div>

      <div class="auth-input-group">
        <img src="../../../assets/images/lockicon.png" class="auth-input-icon" alt="Password icon">

        <input
          class="auth-input-field"
          [type]="showPassword ? 'text' : 'password'"
          id="password"
          name="password"
          placeholder="Password"
          [(ngModel)]="password"
          required
          (copy)="disableCopy($event)"
          (cut)="disableCopy($event)"
          autocomplete="off">

        <img
          [src]="showPassword ? 'assets/images/openedeyeicon.png' : 'assets/images/closedeyeicon.png'"
          class="auth-password-eye"
          alt="Toggle password visibility"
          (click)="togglePassword()">
      </div>
      <div class="auth-input-group">
        <img src="../../../assets/images/lockicon.png" class="auth-input-icon" alt="Password icon">

        <input
          class="auth-input-field"
          [type]="showPassword ? 'text' : 'password'"
          id="passwordConfirmation"
          name="passwordConfirmation"
          placeholder="Password Confirmation"
          [(ngModel)]="passwordConfirmation"
          required
          (copy)="disableCopy($event)"
          (cut)="disableCopy($event)"
          autocomplete="off">

        <img
          [src]="showPassword ? 'assets/images/openedeyeicon.png' : 'assets/images/closedeyeicon.png'"
          class="auth-password-eye"
          alt="Toggle password visibility"
          (click)="togglePassword()">
      </div>
      <div class="auth-input-group">
        <img src="../../../assets/images/lockicon.png" class="auth-input-icon" alt="Password icon">

        <input
          class="auth-input-field"
          [type]="showCode ? 'text' : 'password'"
          id="secretCode"
          name="secretCode"
          placeholder="secretCode"
          [(ngModel)]="secretCode"
          required
          (copy)="disableCopy($event)"
          (cut)="disableCopy($event)"
          autocomplete="off">
        <img
          [src]="showCode ? 'assets/images/openedeyeicon.png' : 'assets/images/closedeyeicon.png'"
          class="auth-password-eye"
          alt="Toggle password visibility"
          (click)="toggleSecretCode()">
      </div>

      <button type="submit" class="auth-submit-btn">Reset the password</button>

    </div>
  </form>
</div>
